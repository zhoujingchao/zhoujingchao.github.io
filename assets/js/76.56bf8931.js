(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{545:function(t,s,a){"use strict";a.r(s);var e=a(42),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"初识babel"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#初识babel"}},[t._v("#")]),t._v(" 初识babel")]),t._v(" "),a("h2",{attrs:{id:"babel是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel是什么"}},[t._v("#")]),t._v(" babel是什么？")]),t._v(" "),a("p",[t._v("Babel 是 JavaScript 的编译器，是一个工具链，主要用于在当前和较旧的浏览器或环境中将ECMAScript 2015+代码转换为 JavaScript 的向后兼容版本，比如：")]),t._v(" "),a("ul",[a("li",[t._v("转换语法")]),t._v(" "),a("li",[t._v("目标环境中缺少的 Polyfill 功能（通过 @babel/polyfill 插件）")]),t._v(" "),a("li",[t._v("源代码转换（代码模块）")]),t._v(" "),a("li",[t._v("...")])]),t._v(" "),a("h2",{attrs:{id:"可控制插拔"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#可控制插拔"}},[t._v("#")]),t._v(" 可控制插拔")]),t._v(" "),a("p",[t._v("Babel由插件构建而成。使用现有插件编写自己的转换管道或编写自己的转换管道。通过使用或创建预设轻松使用一组插件。使用 astexplorer.net 即时创建插件，或使用 generator-babel-plugin 生成插件模板。")]),t._v(" "),a("p",[t._v("@babel/core：核心功能模块")]),t._v(" "),a("p",[t._v("@babel/cli：允许终端使用 babel 的工具")]),t._v(" "),a("p",[t._v("@babel/env：预设的环境")]),t._v(" "),a("p",[t._v("@babel/polyfill：包含 core-js 和自定义的 regenerator runtime ，以模拟完整的ES2015 +环境。")]),t._v(" "),a("h2",{attrs:{id:"preset"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#preset"}},[t._v("#")]),t._v(" preset")]),t._v(" "),a("p",[t._v("@babel/preset-env：预设的环境")]),t._v(" "),a("p",[t._v("@babel/preset-react：jsx 和 react")]),t._v(" "),a("p",[t._v("@babel/preset-flow：类型注释--流")]),t._v(" "),a("p",[t._v("@babel/preset-typescript：类型注释--TypeScript")]),t._v(" "),a("p",[t._v("...")]),t._v(" "),a("p",[t._v("更多 preset "),a("a",{attrs:{href:"https://babeljs.io/docs/en/presets",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细内容"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("h2",{attrs:{id:"plugin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#plugin"}},[t._v("#")]),t._v(" plugin")]),t._v(" "),a("p",[t._v("@babel/plugin-transform-arrow-functions：箭头函数转换为ES5兼容的函数模式\n...")]),t._v(" "),a("p",[t._v("Babel是一个编译器（源代码=>输出代码）。像许多其他编译器一样，它运行在3个阶段："),a("code",[t._v("解析")]),t._v("，"),a("code",[t._v("转换")]),t._v("和"),a("code",[t._v("打印")]),t._v("。\n这些语法插件仅允许 Babel 解析特定类型的语法（不转换）。\n转换插件会自动启用语法插件。因此，如果已经使用了相应的转换插件，则无需指定语法插件。")]),t._v(" "),a("p",[t._v("更多 plugin "),a("a",{attrs:{href:"https://babeljs.io/docs/en/plugins",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细内容"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("h2",{attrs:{id:"preset-与-plugin-的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#preset-与-plugin-的区别"}},[t._v("#")]),t._v(" preset 与 plugin 的区别")]),t._v(" "),a("p",[t._v("如果没有 preset 预设，babel 转化是需要指定用什么插件的，"),a("code",[t._v("颗粒度小，效率高")]),t._v("，但是插件需要"),a("code",[t._v("逐个")]),t._v("安装(babel 官方拆成了20+个插件)。\n为了解决插件依赖的问题，采用了Babel Preset。(Babel Preset视为Babel Plugin的集合， 比如babel-preset-es2015包含所有跟ES6转换有关的插件)")]),t._v(" "),a("h2",{attrs:{id:"plugin-与-preset-执行顺序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#plugin-与-preset-执行顺序"}},[t._v("#")]),t._v(" Plugin 与 Preset 执行顺序")]),t._v(" "),a("ol",[a("li",[t._v("先执行完所有Plugin，再执行Preset")]),t._v(" "),a("li",[t._v("多个Plugin，按照声明次序顺序执行")]),t._v(" "),a("li",[t._v("多个Preset，按照声明次序逆序执行")])]),t._v(" "),a("p",[t._v("eg:")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"plugins"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"transform-react-jsx"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"transform-async-to-generator"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"presets"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"es2015"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"es2016"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("1, "),a("code",[t._v("babel-preset-env")]),t._v(" 是一个新的 preset，可以根据配置的目标运行环境（environment）自动启用需要的 babel 插件。\nbabel-preset-es2015(转换为es5)、babel-preset-es2016(转化为es6)、babel-preset-es2017(转化为es7)、babel-preset-latest(转化最新stage4进度)。")]),t._v(" "),a("p",[t._v("2, 插件越来越多，效率变慢，浏览器升级，提出了 "),a("code",[t._v("babel-preset-env")]),t._v(", 默认配置的情况下，它跟 "),a("code",[t._v("babel-preset-latest")]),t._v(" 是等同的，会加载从es2015开始的所有preset。")]),t._v(" "),a("p",[t._v("eg:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('{ "presets": [ "env" ] } === { "presets": [ “latest" ] }\n')])])]),a("p",[t._v("针对node环境：")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"presets"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"env"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"targets"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8.9.3"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("针对ie11：")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"presets"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"env"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"targets"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"browsers"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ie 11"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("针对Edge16：")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"presets"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"env"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"targets"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"browsers"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"edge 16"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n")])])]),a("p",[t._v("针对Ie8+，chrome62+：")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"presets"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"env"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"targets"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"browsers"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ie >= 8"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"chrome >= 62"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("更多详细内容移步"),a("a",{attrs:{href:"https://babeljs.io/docs/en",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网"),a("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=n.exports}}]);